#%RAML 1.0
---

title: Customs Declarations Information
version: 1.0
protocols: [ HTTPS ]
baseUri: https://api.service.hmrc.gov.uk/
mediaType: application/xml

uses:
  sec: https://developer.service.hmrc.gov.uk/api-documentation/assets/common/modules/securitySchemes.raml
  annotations: https://developer.service.hmrc.gov.uk/api-documentation/assets/common/modules/annotations.raml
  types: https://developer.service.hmrc.gov.uk/api-documentation/assets/common/modules/types.raml

documentation:
  - title: Overview
    content: !include docs/overview.md
  - title: Status and roadmap
    content: !include docs/api-status-and-roadmap.md
  - title: Data availability and status
    content: !include docs/data-availability-and-status.md
  - title: Authorisation
    content: !include docs/authorisation.md
  - title: Errors
    content: !include docs/errors.md
  - title: Testing
    content: !include docs/testing.md

/customs/declarations-information:
  /mrn:
    /{mrn}:
      uriParameters:
        mrn:
          description: |
            Movement Reference Number

            Must be an alphanumeric string up to 35 characters long.
          type: string
          example: "19GBL4592NCOI21NR9"
      /status:
        get:
          displayName: Get the status of a declaration by MRN
          description: Get the status of a declaration with the given MRN.
          headers:
            Accept:
              description: Specifies the version of the API that you want to call. See [versioning](/api-documentation/docs/reference-guide#versioning).
              type: string
              required: true
              example: application/vnd.hmrc.1.0+xml
            X-Badge-Identifier:
              description: |
                Represents the end-user who is interacting with the subscribed application.

                CSPs must have an X-Badge-Identifier or X-Submitter-Identifier.

                Must be 6 to 12 characters, consisting of any combination of numeric digits and/or upper-case letters.
              type: string
              required: false
              example: ABC123
            X-Submitter-Identifier:
              description: |
                The EORI associated with the originating owner of the declaration.

                CSPs must have an X-Badge-Identifier or X-Submitter-Identifier.

                Must have a maximum length of 17 characters, consisting of any combination of numeric digits and/or letters.
              type: string
              required: false
              example: GB123456789000
          (annotations.scope): "write:customs-declarations-information"
          securedBy: [ sec.oauth_2_0: { scopes: [ "write:customs-declarations-information" ] } ]
          responses:
            200:
              body:
                application/xml:
                  description: Successful response payload
                  type: !include schemas/wco/declaration/DeclarationInformationRetrievalStatusResponse.xsd
                  example: !include examples/declarationInformationRetrievalStatusResponseExample.xml
            500:
              body:
                application/xml:
                  description: Internal server error
                  type: !include schemas/customs/error.xsd
                  example: |
                      <?xml version="1.0" encoding="UTF-8"?>
                      <errorResponse>
                          <code>INTERNAL_SERVER_ERROR</code>
                          <message>Internal server error</message>
                      </errorResponse>

  /ducr:
      /{ducr}:
        uriParameters:
          ducr:
            description: |
               Declaration Unique Consignment Reference

               Must be an alphanumeric string up to 70 characters long.
            type: string
            example: "19GBL4592NCOI21NR9"
        /status:
          get:
            displayName: Get the status of a declaration by DUCR (not yet available)
            description: Get the status of a declaration with the given DUCR.
            headers:
              Accept:
                description: Specifies the version of the API that you want to call. See [versioning](/api-documentation/docs/reference-guide#versioning).
                type: string
                required: true
                example: application/vnd.hmrc.1.0+xml
              X-Badge-Identifier:
                description: |
                  Represents the end-user who is interacting with the subscribed application.

                  CSPs must have an X-Badge-Identifier or X-Submitter-Identifier.

                  Must be 6 to 12 characters, consisting of any combination of numeric digits and/or upper-case letters.
                type: string
                required: false
                example: ABC123
              X-Submitter-Identifier:
                description: |
                  The EORI associated with the originating owner of the declaration.

                  CSPs must have an X-Badge-Identifier or X-Submitter-Identifier.

                  Must have a maximum length of 17 characters, consisting of any combination of numeric digits and/or letters.
                type: string
                required: false
                example: GB123456789000
            (annotations.scope): "write:customs-declarations-information"
            securedBy: [ sec.oauth_2_0: { scopes: [ "write:customs-declarations-information" ] } ]
            responses:
              200:
                body:
                  application/xml:
                    description: Successful response payload
                    type: !include schemas/wco/declaration/DeclarationInformationRetrievalStatusResponse.xsd
                    example: !include examples/declarationInformationRetrievalStatusResponseExample.xml
              500:
                body:
                  application/xml:
                    description: Internal server error
                    type: !include schemas/customs/error.xsd
                    example: |
                        <?xml version="1.0" encoding="UTF-8"?>
                        <errorResponse>
                            <code>INTERNAL_SERVER_ERROR</code>
                            <message>Internal server error</message>
                        </errorResponse>

    /ucr:
      /{ucr}:
        uriParameters:
          ucr:
            description: |
              Unique Consignment Reference

              Must be an alphanumeric string up to 35 characters long.
            type: string
            example: "19GBL4592NCOI21NR9"
        /status:
          get:
            displayName: Get the status of a declaration by UCR (not yet available)
            description: Get the status of a declaration with the given UCR.
            headers:
              Accept:
                description: Specifies the version of the API that you want to call. See [versioning](/api-documentation/docs/reference-guide#versioning).
                type: string
                required: true
                example: application/vnd.hmrc.1.0+xml
              X-Badge-Identifier:
                description: |
                  Represents the end-user who is interacting with the subscribed application.

                  CSPs must have an X-Badge-Identifier or X-Submitter-Identifier.

                  Must be 6 to 12 characters, consisting of any combination of numeric digits and/or upper-case letters.
                type: string
                required: false
                example: ABC123
              X-Submitter-Identifier:
                description: |
                  The EORI associated with the originating owner of the declaration.

                  CSPs must have an X-Badge-Identifier or X-Submitter-Identifier.

                  Must have a maximum length of 17 characters, consisting of any combination of numeric digits and/or letters.
                type: string
                required: false
                example: GB123456789000
            (annotations.scope): "write:customs-declarations-information"
            securedBy: [ sec.oauth_2_0: { scopes: [ "write:customs-declarations-information" ] } ]
            responses:
              200:
                body:
                  application/xml:
                    description: Successful response payload
                    type: !include schemas/wco/declaration/DeclarationInformationRetrievalStatusResponse.xsd
                    example: !include examples/declarationInformationRetrievalStatusResponseExample.xml
              500:
                body:
                  application/xml:
                    description: Internal server error
                    type: !include schemas/customs/error.xsd
                    example: |
                        <?xml version="1.0" encoding="UTF-8"?>
                        <errorResponse>
                            <code>INTERNAL_SERVER_ERROR</code>
                            <message>Internal server error</message>
                        </errorResponse>

    /inventory-refence:
      /{inventoryReference}:
        uriParameters:
          inventoryReference:
            description: |
               Inventory Reference

               Must be an alphanumeric string up to 70 characters long.
            type: string
            example: "19GBL4592NCOI21NR9"
        /status:
          get:
            displayName: Get the status of a declaration by Inventory Reference (not yet available)
            description: Get the status of a declaration with the given Inventory Reference.
            headers:
              Accept:
                description: Specifies the version of the API that you want to call. See [versioning](/api-documentation/docs/reference-guide#versioning).
                type: string
                required: true
                example: application/vnd.hmrc.1.0+xml
              X-Badge-Identifier:
                description: |
                   Represents the end-user who is interacting with the subscribed application.

                   CSPs must have an X-Badge-Identifier or X-Submitter-Identifier.

                   Must be 6 to 12 characters, consisting of any combination of numeric digits and/or upper-case letters.
                type: string
                required: false
                example: ABC123
              X-Submitter-Identifier:
                description: |
                   The EORI associated with the originating owner of the declaration.

                   CSPs must have an X-Badge-Identifier or X-Submitter-Identifier.

                   Must have a maximum length of 17 characters, consisting of any combination of numeric digits and/or letters.
                type: string
                required: false
                example: GB123456789000
            (annotations.scope): "write:customs-declarations-information"
            securedBy: [ sec.oauth_2_0: { scopes: [ "write:customs-declarations-information" ] } ]
            responses:
              200:
                body:
                  application/xml:
                    description: Successful response payload
                    type: !include schemas/wco/declaration/DeclarationInformationRetrievalStatusResponse.xsd
                    example: !include examples/declarationInformationRetrievalStatusResponseExample.xml
              500:
                body:
                  application/xml:
                    description: Internal server error
                    type: !include schemas/customs/error.xsd
                    example: |
                        <?xml version="1.0" encoding="UTF-8"?>
                        <errorResponse>
                            <code>INTERNAL_SERVER_ERROR</code>
                            <message>Internal server error</message>
                        </errorResponse>
